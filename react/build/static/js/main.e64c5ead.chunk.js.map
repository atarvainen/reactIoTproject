{"version":3,"sources":["Login.js","Register.js","Navbar.js","Settings.js","ChartMenu.js","Bar.js","Doughnut.js","Line.js","Main.js","App.js","serviceWorker.js","index.js","loader.gif"],"names":["Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","pass","loginFail","loginError","handleClick","bind","assertThisInitialized","handleChange","handleSubmit","e","_this2","preventDefault","fetch","ip","method","headers","Accept","Content-Type","body","JSON","stringify","email","password","then","result","ok","json","sessionStorage","setItem","api_token","data","name","keys","ruuvitags","length","constructor","ruuvitagid","handleLogin","loginNoTag","catch","error","status","setState","err","message","event","stopPropagation","a","target","type","p","react_default","createElement","id","className","onClick","closeLogin","onSubmit","placeholder","onChange","Component","Register","passConf","registerFail","registerError","password_confirmation","handleRegister","b","closeRegister","LoginButton","RegisterButton","LogoutButton","Navbar","showLogin","showRegister","isLoggedIn","user","token","ruuvi","handleRegisterClick","handleLoginClick","handleLoginClickNoTag","handleLogoutClick","toggleLogin","toggleRegister","getItem","login","Authorization","concat","replace","clear","logout","button","button2","toggleSettings","src_Login","fetchWithWorker","handleChartData","src_Register","Settings","closeSettings","ChartMenu","showAttMenu","showTempMenu","showHumMenu","toggleAttMenu","toggleHumMenu","toggleTempMenu","closeMenus","chartChoice","dataChoice","BarChart","es","options","title","display","displayTitle","text","fontSize","legend","displayLegend","position","legendPosition","defaultProps","DoughnutChart","cutoutPercentage","LineChart","Main","hasTag","isLoaded","axisy","axisx","showSettings","handleLogout","handleLoginWithNoTag","handleChartChoice","handleDataChoice","query","url","response","res","labels","map","x","Time","datasets","label","backgroundColor","Temp","Att","console","log","tempData","tempIsLoaded","attData","attIsLoaded","humData","humIsLoaded","fetchData","ChartType","chart","chartMenu","src","loading","alt","src_ChartMenu","getData","src_Navbar","settings","handleSettingsClick","src_Settings","App","src_Main","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.e64c5ead.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { ip } from './ServerConf';\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: \"\",\r\n      pass: \"\",\r\n      loginFail: false,\r\n      loginError: \"\"\r\n    }\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    //prevet default submit\r\n    e.preventDefault();\r\n    fetch((ip + \"/api/login\"), {\r\n      method: 'post',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        email: this.state.value,\r\n        password: this.state.pass\r\n      })\r\n    })\r\n      .then((result) => {\r\n        if (result.ok) {\r\n          return result.json();\r\n        }\r\n        throw result;\r\n      })\r\n      .then((result) => {\r\n        //save name and token to session storage if login is successful\r\n        //only strings can be saved to storage\r\n        sessionStorage.setItem('tok', JSON.stringify(result.api_token));\r\n        sessionStorage.setItem('nam', JSON.stringify(result.data.name));\r\n\r\n        //check if api returned any ruuvitags belonging to user and set ruuvitags id to storage\r\n        if (Object.keys(result.ruuvitags).length !== 0 && result.ruuvitags.constructor !== Object) {\r\n          sessionStorage.setItem('ruuvi', JSON.stringify(result.ruuvitags[0].ruuvitagid));\r\n          this.props.handleLogin();\r\n        }\r\n        //if user has no tag, handle login differently\r\n        else {\r\n          this.props.loginNoTag();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (error.status === 404) {\r\n          this.setState({ loginFail: true, loginError: \"Failed connecting to login service.\" });\r\n        }\r\n        //if api is not available, type error is raised\r\n        else if (error.name === \"TypeError\") {\r\n          this.setState({ loginFail: true, loginError: \"Failed connecting to login service.\" });\r\n        }\r\n        //else we can parse the error message api sends us\r\n        else {\r\n          error.json().then(err => { this.setState({ loginFail: true, loginError: err.message }) });\r\n        }\r\n      });\r\n  }\r\n  //stop login_inner click from closing login\r\n  handleClick(event) {\r\n    event.stopPropagation();\r\n  }\r\n\r\n  handleChange(a) {\r\n    if (a.target.type === \"text\") {\r\n      this.setState({ value: a.target.value });\r\n    }\r\n    else {\r\n      this.setState({ pass: a.target.value });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let p;\r\n\r\n    //render login error if something fails\r\n    if (this.state.loginFail) {\r\n      p = <p id='error'>{this.state.loginError}</p>;\r\n    }\r\n    return (\r\n      <div className='login' onClick={this.props.closeLogin}>\r\n        <div className='login_inner' onClick={this.handleClick}>\r\n          <h1>Login</h1>\r\n          {p}\r\n          <form onSubmit={this.handleSubmit}>\r\n            <input type=\"text\" placeholder=\"Email\" onChange={this.handleChange}></input>\r\n            <input type=\"password\" placeholder=\"Password\" onChange={this.handleChange}></input>\r\n            <input className=\"button1\" type=\"submit\" value=\"Login\"></input>\r\n            <button className=\"button1\" onClick={this.props.closeLogin}>Close</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { ip } from './ServerConf';\r\n\r\nclass Register extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: \"\",\r\n            email: \"\",\r\n            pass: \"\",\r\n            passConf: \"\",\r\n            registerFail: false,\r\n            registerError: \"\"\r\n        }\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    //fetch post register to api and handle response\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (this.state.pass === this.state.passConf) {\r\n            fetch((ip + \"/api/register\"), {\r\n                method: 'post',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    name: this.state.name,\r\n                    email: this.state.email,\r\n                    password: this.state.pass,\r\n                    password_confirmation: this.state.passConf\r\n                })\r\n            })\r\n                .then((result) => {\r\n                    if (result.ok) {\r\n                        return result.json();\r\n                    }\r\n                    throw result;\r\n                })\r\n                .then((result) => {\r\n                    sessionStorage.setItem('tok', JSON.stringify(result.data.api_token));\r\n                    sessionStorage.setItem('nam', JSON.stringify(result.data.name));\r\n                    this.props.handleRegister();\r\n                })\r\n                .catch((error) => {\r\n                    if (error.status === 404) {\r\n                        this.setState({ registerFail: true, registerError: \"Failed connecting to register service.\" });\r\n                    }\r\n                    else if (error.name === \"TypeError\") {\r\n                        this.setState({ registerFail: true, registerError: \"Failed connecting to register service.\" });\r\n                    }\r\n                    else {\r\n                        error.json().then(err => { this.setState({ registerFail: true, registerError: err.message }) });\r\n                    }\r\n                });\r\n        }\r\n        else {\r\n            this.setState({ registerFail: true, registerError: \"Please match your passwords.\" });\r\n        }\r\n    }\r\n\r\n    handleClick(event) {\r\n        event.stopPropagation();\r\n    }\r\n\r\n    handleChange(a, b) {\r\n        if (a === 1) {\r\n            this.setState({ name: b.target.value });\r\n        }\r\n        else if (a === 2) {\r\n            this.setState({ email: b.target.value });\r\n        }\r\n        else if (a === 3) {\r\n            this.setState({ pass: b.target.value });\r\n        }\r\n        else {\r\n            this.setState({ passConf: b.target.value });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let p;\r\n\r\n        //if registering fails render error message\r\n        if (this.state.registerFail) {\r\n            p = <p id='error'>{this.state.registerError}</p>;\r\n        }\r\n        return (\r\n            <div className='login' onClick={this.props.closeRegister}>\r\n                <div className='login_inner' onClick={this.handleClick}>\r\n                    <h1>Register</h1>\r\n                    {p}\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <input type=\"text\" placeholder=\"Nimi\" onChange={this.handleChange.bind(this, 1)}></input>\r\n                        <input type=\"text\" placeholder=\"Email\" onChange={this.handleChange.bind(this, 2)}></input>\r\n                        <input type=\"password\" placeholder=\"Password\" onChange={this.handleChange.bind(this, 3)}></input>\r\n                        <input type=\"password\" placeholder=\"Password confirmation\" onChange={this.handleChange.bind(this, 4)}></input>\r\n                        <input className=\"button1\" type=\"submit\" value=\"Register\"></input>\r\n                        <button className=\"button1\" onClick={this.props.closeRegister}>Close</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport { ip } from './ServerConf';\r\n\r\nfunction LoginButton(props) {\r\n  return (\r\n    <button className=\"button1\" onClick={props.onClick}>Login</button>\r\n  );\r\n}\r\n\r\nfunction RegisterButton(props) {\r\n  return (\r\n    <button className=\"button1\" onClick={props.onClick}>Register</button>\r\n  );\r\n}\r\n\r\nfunction LogoutButton(props) {\r\n  return (\r\n    <button className=\"button1\" onClick={props.onClick}>Logout</button>\r\n  );\r\n}\r\n\r\nclass Navbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showLogin: false,\r\n      showRegister: false,\r\n      isLoggedIn: props.isLoggedIn,\r\n      user: props.user,\r\n      token: props.token,\r\n      ruuvi: props.ruuvi\r\n    }\r\n    this.handleRegisterClick = this.handleRegisterClick.bind(this);\r\n    this.handleLoginClick = this.handleLoginClick.bind(this);\r\n    this.handleLoginClickNoTag = this.handleLoginClickNoTag.bind(this);\r\n    this.handleLogoutClick = this.handleLogoutClick.bind(this);\r\n    this.toggleLogin = this.toggleLogin.bind(this);\r\n    this.toggleRegister = this.toggleRegister.bind(this);\r\n  }\r\n\r\n  //set logged status and call parent to handle login as well\r\n  handleLoginClick() {\r\n    this.setState({\r\n      isLoggedIn: true,\r\n      user: sessionStorage.getItem(\"nam\"),\r\n      token: sessionStorage.getItem(\"tok\"),\r\n      ruuvi: sessionStorage.getItem(\"ruuvi\"),\r\n      showLogin: !this.state.showLogin\r\n    });\r\n    this.props.login();\r\n  }\r\n\r\n  handleLoginClickNoTag() {\r\n    this.setState({\r\n      isLoggedIn: true,\r\n      user: sessionStorage.getItem(\"nam\"),\r\n      token: sessionStorage.getItem(\"tok\"),\r\n      showLogin: !this.state.showLogin\r\n    });\r\n    this.props.loginNoTag();\r\n  }\r\n\r\n  //set logged status and call parent to handle login as well\r\n  handleRegisterClick() {\r\n    this.setState({\r\n      isLoggedIn: true,\r\n      user: sessionStorage.getItem(\"nam\"),\r\n      token: sessionStorage.getItem(\"tok\"),\r\n      showRegister: !this.state.showRegister\r\n    });\r\n    this.props.loginNoTag();\r\n  }\r\n\r\n  toggleLogin() {\r\n    this.setState({\r\n      showLogin: !this.state.showLogin\r\n    });\r\n  }\r\n\r\n  toggleRegister() {\r\n    this.setState({\r\n      showRegister: !this.state.showRegister\r\n    });\r\n  }\r\n\r\n  //fetch post logout to api for handling and call parent to handle logout as well\r\n  //logout even if api cant handle the request so catching errors is not needed\r\n  //clear sessionStorage here\r\n  handleLogoutClick() {\r\n    fetch((ip + \"/api/logout\"), {\r\n      method: 'post',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        \"Authorization\": `Bearer ${sessionStorage.getItem('tok').replace(/\"/g, '')}`\r\n      },\r\n    })\r\n    sessionStorage.clear();\r\n    this.setState({ isLoggedIn: false });\r\n    this.props.logout();\r\n  }\r\n\r\n  render() {\r\n    let button;\r\n    let button2;\r\n\r\n    //set navbar buttons to reflect if user is logged in or not\r\n    if (this.state.isLoggedIn) {\r\n      button = <LogoutButton onClick={this.handleLogoutClick} />;\r\n      button2 = <span id=\"username\" onClick={this.props.toggleSettings}>{sessionStorage.getItem(\"nam\").replace(/\"/g, '')}</span>\r\n    } else {\r\n      button = <LoginButton onClick={this.toggleLogin} />;\r\n      button2 = <RegisterButton onClick={this.toggleRegister} />;\r\n    }\r\n    return (\r\n      <div id=\"nav\">\r\n        <h1 id=\"title\">Relaamo Ruuvitag</h1>\r\n        <div id=\"info\">\r\n          {this.state.showLogin ?\r\n            <Login loginNoTag={this.handleLoginClickNoTag} fetchWithWorker={this.props.fetchWithWorker} handleChartData={this.props.handleChartData} closeLogin={this.toggleLogin} handleLogin={this.handleLoginClick} />\r\n            : null\r\n          }\r\n          {this.state.showRegister ?\r\n            <Register closeRegister={this.toggleRegister} handleRegister={this.handleRegisterClick} />\r\n            : null\r\n          }\r\n          {button2}\r\n          {button}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Navbar;","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\n//work in progress\r\nclass Settings extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    handleClick(e) {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='settings' onClick={this.props.closeSettings}>\r\n                <div className='settings_inner' onClick={this.handleClick}>\r\n                    <h1>User settings</h1>\r\n                    <button className=\"button1\" onClick={this.props.closeSettings}>Close</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Settings;","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\nclass ChartMenu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showAttMenu: false,\r\n            showTempMenu: false,\r\n            showHumMenu: false,\r\n        }\r\n        this.toggleAttMenu = this.toggleAttMenu.bind(this);\r\n        this.toggleHumMenu = this.toggleHumMenu.bind(this);\r\n        this.toggleTempMenu = this.toggleTempMenu.bind(this);\r\n        this.closeMenus = this.closeMenus.bind(this);\r\n    }\r\n\r\n    closeMenus() {\r\n        this.setState({ showAttMenu: false, showHumMenu: false, showTempMenu: false });\r\n    }\r\n\r\n    //toggle display for menu and close other menus\r\n    //call parent method to handle data and chart choice\r\n    //could be simplified\r\n    toggleAttMenu(e) {\r\n        if (e.target.value !== \"Att\") {\r\n            this.props.chartChoice(e.target.value);\r\n            this.setState({\r\n                showAttMenu: !this.state.showAttMenu,\r\n                showTempMenu: false,\r\n                showHumMenu: false\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                showAttMenu: !this.state.showAttMenu,\r\n                showTempMenu: false,\r\n                showHumMenu: false\r\n            });\r\n            this.props.dataChoice(e.target.value);\r\n        }\r\n    }\r\n\r\n    toggleHumMenu(e) {\r\n        if (e.target.value !== \"Hum\") {\r\n            this.props.chartChoice(e.target.value);\r\n            this.setState({\r\n                showHumMenu: !this.state.showHumMenu,\r\n                showAttMenu: false,\r\n                showTempMenu: false\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                showHumMenu: !this.state.showHumMenu,\r\n                showAttMenu: false,\r\n                showTempMenu: false\r\n            });\r\n            this.props.dataChoice(e.target.value);\r\n        }\r\n    }\r\n\r\n    toggleTempMenu(e) {\r\n        if (e.target.value !== \"Temp\") {\r\n            this.props.chartChoice(e.target.value);\r\n            this.setState({\r\n                showTempMenu: !this.state.showTempMenu,\r\n                showAttMenu: false,\r\n                showHumMenu: false\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                showTempMenu: !this.state.showTempMenu,\r\n                showAttMenu: false,\r\n                showHumMenu: false\r\n            });\r\n            this.props.dataChoice(e.target.value);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <button className=\"dropdown button1\" value=\"Att\" onClick={this.toggleAttMenu}>Läsnäolo</button>\r\n                {this.state.showAttMenu ?\r\n                    <div className=\"dropdown-content\">\r\n                        <button className=\"button1\" value=\"BarChart\" onClick={this.toggleAttMenu}>Bar chart</button>\r\n                        <button className=\"button1\" value=\"LineChart\" onClick={this.toggleAttMenu}>Line chart</button>\r\n                        <button className=\"button1\" value=\"DoughnutChart\" onClick={this.toggleAttMenu}>Doughnut chart</button>\r\n                    </div>\r\n                    : null\r\n                }\r\n                <button className=\"dropdown button1\" value=\"Temp\" onClick={this.toggleTempMenu}>Lämpötila</button>\r\n                {this.state.showTempMenu ?\r\n                    <div className=\"dropdown-content\">\r\n                        <button className=\"button1\" value=\"BarChart\" onClick={this.toggleTempMenu}>Bar chart</button>\r\n                        <button className=\"button1\" value=\"LineChart\" onClick={this.toggleTempMenu}>Line chart</button>\r\n                        <button className=\"button1\" value=\"DoughnutChart\" onClick={this.toggleTempMenu}>Doughnut chart</button>\r\n                    </div>\r\n                    : null\r\n                }\r\n                <button className=\"dropdown button1\" value=\"Hum\" onClick={this.toggleHumMenu}>Kosteus</button>\r\n                {this.state.showHumMenu ?\r\n                    <div className=\"dropdown-content\">\r\n                        <button className=\"button1\" value=\"BarChart\" onClick={this.toggleHumMenu}>Bar chart</button>\r\n                        <button className=\"button1\" value=\"LineChart\" onClick={this.toggleHumMenu}>Line chart</button>\r\n                        <button className=\"button1\" value=\"DoughnutChart\" onClick={this.toggleHumMenu}>Doughnut chart</button>\r\n                    </div>\r\n                    : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ChartMenu;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Bar } from 'react-chartjs-2';\r\n\r\nclass BarChart extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data\r\n        }\r\n    }\r\n\r\n    //use default props if parent doesn't send any options\r\n    static defaultProps = {\r\n        displayTitle: true,\r\n        displayLegend: true,\r\n        legendPosition: 'bottom'\r\n    }\r\n\r\n    //chart styling still a mess\r\n    render() {\r\n        return (\r\n            <div className=\"chart\">\r\n                <Bar data={this.state.data}\r\n                    options={{\r\n                        title: {\r\n                            display: this.props.displayTitle,\r\n                            text: this.state.data.title,\r\n                            fontSize: 15\r\n                        },\r\n                        legend: {\r\n                            display: this.props.displayLegend,\r\n                            position: this.props.legendPosition\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BarChart;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Doughnut } from 'react-chartjs-2';\r\n\r\nclass DoughnutChart extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data\r\n        }\r\n    }\r\n\r\n    //use default props if parent doesn't send any options\r\n    static defaultProps = {\r\n        displayTitle: true,\r\n        displayLegend: false,\r\n        legendPosition: 'bottom'\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"chart\">\r\n                <Doughnut data={this.state.data}\r\n                    options={{\r\n                        title: {\r\n                            display: this.props.displayTitle,\r\n                            text: this.state.data.title,\r\n                            fontSize: 25,\r\n                            cutoutPercentage: 0\r\n                        },\r\n                        legend: {\r\n                            display: this.props.displayLegend,\r\n                            position: this.props.legendPosition\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DoughnutChart;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Line } from 'react-chartjs-2';\r\n\r\nclass LineChart extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data\r\n        }\r\n    }\r\n\r\n    //use default props if parent doesn't send any options\r\n    static defaultProps = {\r\n        displayTitle: true,\r\n        displayLegend: true,\r\n        legendPosition: 'bottom'\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"chart\">\r\n                <Line data={this.state.data}\r\n                    options={{\r\n                        title: {\r\n                            display: this.props.displayTitle,\r\n                            text: this.state.data.title,\r\n                            fontSize: 25\r\n                        },\r\n                        legend: {\r\n                            display: this.props.displayLegend,\r\n                            position: this.props.legendPosition\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LineChart;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Navbar from './Navbar';\r\nimport Settings from './Settings';\r\nimport ChartMenu from './ChartMenu';\r\nimport BarChart from './Bar';\r\nimport DoughnutChart from './Doughnut';\r\nimport LineChart from './Line';\r\nimport loading from './loader.gif';\r\n//import WebWorker from './WebWorker';\r\n//import TempFetch from './TempFetchWorker';\r\n//import AttFetch from './AttFetchWorker';\r\n//import HumFetch from './HumFetchWorker';\r\nimport { ip } from './ServerConf';\r\n\r\nclass Main extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            token: props.token,\r\n            ruuvi: props.ruuvi,\r\n            isLoggedIn: props.isLoggedIn,\r\n            hasTag: props.hasTag,\r\n            //attData: {},\r\n            //tempData: {},\r\n            //humData: {},\r\n            data: {},\r\n            error: null,\r\n            isLoaded: false,\r\n            //attIsLoaded: false,\r\n            //tempIsLoaded: false,\r\n            //humIsLoaded: false,\r\n            axisy: [],\r\n            axisx: [],\r\n            showSettings: false,\r\n            showAttMenu: false,\r\n            showTempMenu: false,\r\n            showHumMenu: false,\r\n            chartChoice: \"\",\r\n            dataChoice: \"\"\r\n        }\r\n        this.toggleSettings = this.toggleSettings.bind(this);\r\n        this.handleLogout = this.handleLogout.bind(this);\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n        this.handleLoginWithNoTag = this.handleLoginWithNoTag.bind(this);\r\n        this.handleChartChoice = this.handleChartChoice.bind(this);\r\n        this.handleDataChoice = this.handleDataChoice.bind(this);\r\n        this.handleChartData = this.handleChartData.bind(this);\r\n        //this.fetchWithWorker = this.fetchWithWorker.bind(this);\r\n    }\r\n\r\n    //not working in build mode, reverted back to not using workers\r\n    //create workers for fetching and eventlisteners for them\r\n    /*\r\n    componentDidMount() {\r\n        this.tempWorker = new HumWorker();\r\n        this.attWorker = new WebWorker(AttFetch);\r\n        this.humWorker = new HumWorker();\r\n\r\n        /*\r\n        this.tempWorker.addEventListener('message', event => {\r\n            const chartData = event.data;\r\n            this.handleChartData(chartData);\r\n        });\r\n        this.attWorker.addEventListener('message', event => {\r\n            const chartData = event.data;\r\n            this.handleChartData(chartData);\r\n        });\r\n        \r\n        this.humWorker.addEventListener('message', event => {\r\n            const chartData = event.data;\r\n            this.handleChartData(chartData);\r\n        });\r\n    }\r\n    */\r\n\r\n    //fetch temp, hum and attendance data with workers\r\n    //api doesnt find right ruuvitag data so we cant fetch data with ruuvitagid\r\n    //fetch still in debug mode, fetching all data from /api/data\r\n    //url defined here so we could fetch from different urls\r\n    /*\r\n    fetchWithWorker() {\r\n        let fetchData = {\r\n            headers: this.state.headers,\r\n            method: \"get\",\r\n            url: (ip + \"/api/data\")\r\n        }\r\n\r\n        this.attWorker.postMessage(fetchData);\r\n        this.humWorker.postMessage(fetchData);\r\n        this.tempWorker.postMessage(fetchData);\r\n    }\r\n    */\r\n\r\n    fetchData(query) {\r\n        fetch(query.url, {\r\n            method: query.method,\r\n            headers: query.headers\r\n        })\r\n            .then((result) => {\r\n                if (result.ok) {\r\n                    return result.json();\r\n                }\r\n                throw result;\r\n            })\r\n            .then((response) => {\r\n                //    return response.json();\r\n                //})\r\n                //.then((response) => {\r\n                let res = ({\r\n                    data: {\r\n                        labels: response.map(x => x.Time),\r\n                        datasets: [\r\n                            {\r\n                                label: \"Time\",\r\n                                backgroundColor: \"rgba(0,0,0,0.8)\",\r\n                                data: response.map(x => x.Temp),\r\n                            }\r\n                        ],\r\n                        title: this.state.dataChoice\r\n                    },\r\n                    isLoaded: true,\r\n                    axisy: response.map(x => x.Time),\r\n                    axisx: response.map(x => x.Att),\r\n                });\r\n                this.setState({ data: res.data, isLoaded: true, });\r\n            })\r\n            .catch ((error) => {\r\n    //if api is not available, type error is raised\r\n    if (error.name === \"TypeError\") {\r\n        console.log(\"Failed fetching\");\r\n    }\r\n    //else we can parse the error message api sends us\r\n    else {\r\n        console.log(\"error\", error);\r\n        error.json().then(err => { console.log(err.error) });\r\n    }\r\n});\r\n    }\r\n\r\n//set proper states to true when data is loaded and store datas to state\r\nhandleChartData(e) {\r\n    if (e.data.title === \"Temp\") {\r\n        this.setState({ tempData: e.data, tempIsLoaded: true })\r\n    }\r\n    else if (e.data.title === \"Att\") {\r\n        this.setState({ attData: e.data, attIsLoaded: true })\r\n    }\r\n    else {\r\n        this.setState({ humData: e.data, humIsLoaded: true })\r\n    }\r\n}\r\n\r\n//set users chart choice to state and use later in render\r\n//also check if data was fetched, if not fetch again\r\nhandleChartChoice(e) {\r\n    this.setState({ chartChoice: e })\r\n\r\n    //api returns us the api token inside quotes, need to remove them\r\n    let headers = {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        \"Authorization\": `Bearer ${sessionStorage.getItem('tok').replace(/\"/g, '')}`\r\n    };\r\n\r\n    //send method, url and headers to workers\r\n    let fetchData = {\r\n        headers: headers,\r\n        method: \"get\",\r\n        url: (ip + \"/api/data\")\r\n    }\r\n\r\n    if (!this.state.isLoaded) {\r\n        this.fetchData(fetchData);\r\n    }\r\n    /*\r\n    if (!this.state.attIsLoaded) {\r\n        this.attWorker.postMessage(fetchData);\r\n    }\r\n\r\n    if (!this.state.tempIsLoaded) {\r\n        this.tempWorker.postMessage(fetchData);\r\n    }\r\n    */\r\n}\r\n\r\n//set users data choice to state, used later in render\r\nhandleDataChoice(e) {\r\n    this.setState({ dataChoice: e });\r\n    //api returns us the api token inside quotes, need to remove them\r\n    let headers = {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        \"Authorization\": `Bearer ${sessionStorage.getItem('tok').replace(/\"/g, '')}`\r\n    };\r\n\r\n    //send method, url and headers to workers\r\n    let fetchData = {\r\n        headers: headers,\r\n        method: \"get\",\r\n        url: (ip + \"/api/data\")\r\n    }\r\n    this.fetchData(fetchData);\r\n}\r\n\r\ntoggleSettings() {\r\n    this.setState({ showSettings: !this.state.showSettings });\r\n}\r\n\r\nhandleLogout() {\r\n    this.setState({\r\n        isLoggedIn: false,\r\n        isLoaded: false,\r\n        //attIsLoaded: false,\r\n        //tempIsLoaded: false,\r\n        //humIsLoaded: false,\r\n        hasTag: false,\r\n    });\r\n}\r\n\r\nhandleLogin() {\r\n    this.setState({ isLoggedIn: true, hasTag: true });\r\n}\r\n\r\nhandleLoginWithNoTag() {\r\n    this.setState({ isLoggedIn: true });\r\n}\r\n\r\nrender() {\r\n    let ChartType;\r\n    let chart;\r\n    let chartMenu;\r\n\r\n    //set chart to users choice\r\n    if (this.state.chartChoice === \"BarChart\") {\r\n        ChartType = BarChart;\r\n    }\r\n    else if (this.state.chartChoice === \"LineChart\") {\r\n        ChartType = LineChart;\r\n    }\r\n    else if (this.state.chartChoice === \"DoughnutChart\") {\r\n        ChartType = DoughnutChart;\r\n    }\r\n\r\n    //use ChartType to convey different chart types\r\n    if (this.state.chartChoice !== \"\") {\r\n        if (this.state.dataChoice === \"Temp\" && this.state.isLoaded) {\r\n            chart = <ChartType data={this.state.data} title={this.state.data.title} legendPosition=\"bottom\" />\r\n        }\r\n        else if (this.state.dataChoice === \"Att\" && this.state.isLoaded) {\r\n            chart = <ChartType data={this.state.data} title={this.state.data.title} legendPosition=\"bottom\" />\r\n        }\r\n        else if (this.state.dataChoice === \"Hum\" && this.state.isLoaded) {\r\n            chart = <ChartType data={this.state.data} title={this.state.data.title} legendPosition=\"bottom\" />\r\n        }\r\n        //if chart has been selected but data hasn't been loaded yet display a loading icon\r\n        else if (!this.state.isLoaded && this.state.hasTag) {\r\n            chart = <img src={loading} alt=\"Loading...\"></img>\r\n        }\r\n    }\r\n    else {\r\n        chart = null;\r\n    }\r\n    //if user is logged in, chartmenu is displayed\r\n    if (this.state.isLoggedIn && this.state.hasTag) {\r\n        chartMenu = <ChartMenu dataChoice={this.handleDataChoice} chartChoice={this.handleChartChoice} getData={this.getData} />\r\n    }\r\n\r\n    else if (this.state.isLoggedIn && !this.state.hasTag) {\r\n        chartMenu = <p>Please register a RuuviTag to view its data. (Process not available yet)</p>\r\n    }\r\n\r\n    else {\r\n        chartMenu = <p>Please login or register to view data.</p>\r\n    }\r\n\r\n    //if showSetting is true display settings, if not display null\r\n    return (\r\n        <div className=\"App\">\r\n            <header className=\"App-header\">\r\n                <Navbar loginNoTag={this.handleLoginWithNoTag} fetchWithWorker={this.fetchWithWorker} handleChartData={this.handleChartData} login={this.handleLogin} logout={this.handleLogout} toggleSettings={this.toggleSettings} isLoggedIn={this.state.isLoggedIn} user={this.state.user} token={this.state.token} ruuvi={this.state.ruuvi} settings={this.handleSettingsClick} />\r\n            </header>\r\n            {this.state.showSettings ?\r\n                <Settings closeSettings={this.toggleSettings} />\r\n                : null\r\n            }\r\n            {chartMenu}\r\n            {chart}\r\n        </div>\r\n    );\r\n}\r\n}\r\n\r\nexport default Main;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Main from './Main';\r\n\r\n//Check sessionstorage for login and render appropriate view\r\nclass App extends Component {\r\n\r\n  render() {\r\n    if (sessionStorage.getItem('nam') === null) {\r\n      return (\r\n        <Main isLoggedIn={false} />\r\n      );\r\n    }\r\n    else if (sessionStorage.getItem('ruuvi') !== null) {\r\n      return (\r\n        <Main hasTag={true} isLoggedIn={true} user={sessionStorage.getItem('nam')} token={sessionStorage.getItem('tok')} ruuvi={sessionStorage.getItem('ruuvi')} />\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <Main hasTag={false} isLoggedIn={true} user={sessionStorage.getItem('nam')} token={sessionStorage.getItem('tok')} />\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.1/8 is considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n//process.env.NODE_ENV === 'production' && \r\nexport function register(config) {\r\n  if ('serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      //used customWorker.js instead of workbox package\r\n      const swUrl = `${process.env.PUBLIC_URL}/customWorker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\n\r\n//used customWorker.js instead of workbox package\r\n//customWorker doesn't work in build\r\nserviceWorker.unregister();","module.exports = \"data:image/gif;base64,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\""],"sourceRoot":""}